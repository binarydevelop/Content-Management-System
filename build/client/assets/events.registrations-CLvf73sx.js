import{r as n,j as e}from"./jsx-runtime-56DGgGmo.js";import{m as x}from"./components-C-v4od-A.js";import"./index-BoEtlhzw.js";async function h(a,r){const l=new URL(`${r.baseUrl}/${r.apiVersion}/events/registrations/${a}`);console.log(l,r);const t=await fetch(l.toString(),{headers:{accept:"application/json",Authorization:`Bearer ${r.apiToken}`}});if(!t.ok)throw new Error("Failed to fetch event regiostrations.");return t.json()}function g(){const a=x(),[r,l]=n.useState(!1),[t,i]=n.useState(null),c=async s=>{const o=await h(s,{baseUrl:a.config.apiBaseUrl,apiToken:a.config.apiAuthToken,apiVersion:a.config.apiVersion});i(o.data),l(!0)},d=()=>{l(!1),i(null)};return e.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6 text-center",children:"All Events"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.data.map(s=>e.jsxs("div",{className:"p-4 bg-white shadow-2xl rounded-lg cursor-pointer",onClick:()=>c(s.uuid),children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.title}),e.jsx("img",{src:s.coverImageUrl??"/images/event-fallback.jpg",alt:s.title,className:"mb-4 w-full h-32 object-cover rounded-lg shadow-md"}),e.jsx("p",{className:"text-lg text-gray-700",children:s.extendedTitle})]},s.uuid))}),r&&e.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registered Users"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 border-b",children:"#"}),e.jsx("th",{className:"px-4 py-2 border-b",children:"Name"}),e.jsx("th",{className:"px-4 py-2 border-b",children:"Phone Number"})]})}),e.jsx("tbody",{children:t==null?void 0:t.map((s,o)=>e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"px-4 py-2 border-b text-center",children:o+1}),e.jsx("td",{className:"px-4 py-2 border-b text-center",children:s.user.name}),e.jsx("td",{className:"px-4 py-2 border-b text-center",children:s.user.phone})]},s.id))})]})}),e.jsxs("p",{className:"text-lg text-gray-900 my-4",children:["Total Users: ",t==null?void 0:t.length]}),e.jsx("button",{onClick:d,className:"bg-red-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Close"})]})})]})}export{g as default};
